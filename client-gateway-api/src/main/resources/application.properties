spring.application.name=client-gateway-api

server.port=9300

spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://localhost:9000/.well-known/jwks.json

spring.cloud.gateway.routes[0].id=database-connector-api
spring.cloud.gateway.routes[0].uri=http://localhost:9100
spring.cloud.gateway.routes[0].predicates[0]=Path=/db/**
spring.cloud.gateway.routes[0].filters[0]=AddRequestHeader=X-Internal-Token, gateway-authenticated
spring.cloud.gateway.routes[0].filters[1]=CircuitBreaker=name=dbCB,fallbackUri=forward:/fallback/db

spring.cloud.gateway.routes[1].id=token-issuer-api
spring.cloud.gateway.routes[1].uri=http://localhost:9000
spring.cloud.gateway.routes[1].predicates[0]=Path=/jwt/**
spring.cloud.gateway.routes[1].filters[0]=CircuitBreaker=name=jwtCB,fallbackUri=forward:/fallback/jwt


spring.cloud.gateway.routes[2].id=authen-3rd-api
spring.cloud.gateway.routes[2].uri=http://localhost:9200
spring.cloud.gateway.routes[2].predicates[0]=Path=/verify/**
spring.cloud.gateway.routes[2].filters[0]=CircuitBreaker=name=authCB,fallbackUri=forward:/fallback/verify


spring.cloud.gateway.routes[2].id=authen-3rd-api
spring.cloud.gateway.routes[2].uri=http://localhost:9200
spring.cloud.gateway.routes[2].predicates[0]=Path=/verify/**

# more API forward below
#spring.cloud.gateway.routes[...].id=...
#spring.cloud.gateway.routes[...].uri=...
#spring.cloud.gateway.routes[...].filters[...]=AddRequestHeader=X-Internal-Token, gateway-authenticated
#spring.cloud.gateway.routes[...].predicates[...]=Path=/.../**
#spring.cloud.gateway.routes[...].filters[...]=CircuitBreaker=name=...,fallbackUri=forward:/fallback/...
